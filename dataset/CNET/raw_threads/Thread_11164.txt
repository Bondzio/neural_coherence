10160	0	111535	1267516	NR	warelphant	6/27/05 3:53 PM	1.11988758E12	ICS help	I've been using ICS over my network to access the web for about two years now. Recently my linksys router died so i picked up a Dlink wireless router. Note than I am not actually using the router as the ethernet connection on my modem does not seem to work this way, but i have had no problems using the switch on the router to set up a network and just run ICS to share the connection on the first computer. So I got the wireless router and attempted to hook it up the same way. At first it seemed to work flawlessly. But its been real &quot;off and on&quot; the Internet connection seems to work well on the main pc (of course as this is connected directly to the usb modem.) And the coonnection is consistent on the wireless laptop. The problem comes in on the wired devices. It will occasionally work and then the rest of the time fails to find the Internet connection. I also get system error bubble on the main pc saying there is an IP address conflic on one of the systems on my network. All pc's can wireless and wired have no trouble seeing and accessing share data on all pc's so the network is working fine. Also I have trouble communicating with the router. When the internet does not work on any particular pc I can access the router's setup but when the internet IS working It can not get to the router's set up. I am led to believe with just one or two setting changes this will work flawlessly but have been unable to figure it out on my own. If anyone has any suggestions Help would be appreciated. An easy solution i have thought about is since the wireless connections have no problems is get a wirless adapter for each pc and connect that way but that will drop be back in the pockets. My router is a D-link DI 524 or whatever the numbers are. I have 3 pcs connecting through wires(one is the pc with the usb modem connected) and 2 laptops connecting wirelessly. All pcs have Windows XP except one of the laptos which has Windows 2000(have had no luck connecting this one except for through the wire) Help appreciated Andy p.s. (sorry that got wordy)
10160	1	111535	1267559	1267516	Michael Geist	6/27/05 4:16 PM	1.11988896E12	This sounds like a job for.....	FIRMWARE UPGRADE MAN!!!!! try the latest for your router at your friendly D-Link website.
10160	2	111535	1271584	1267559	warelphant	6/29/05 2:59 PM	1.12005714E12	Re	Thanks for the reply, I tried updating but it already had the most recent ver. on it. I've narrowed down the problem it seems if the internet connection is not working on one of the desktops, I can disable the radio on the laptop and almost immediatly find the internet on the desktop. Then turning the radio back on does not cause immediate loss of desktop connection(have used both at the same time for extended periods of time) but can expect it to be gone again eventually.
10160	3	111535	1271719	1267516	Dick White	6/29/05 4:37 PM	1.12006302E12	I think I see where the problem might be...	You mention a USB modem. USB modems were invented by the DSL/cable industry to provide universal connectivity to computers back in the days when nearly all had USB ports, but most consumer-grade computers did not have ethernet ports (that was a corporate feature, not a home feature). With the explosion of broadband, nearly all computers have ethernet now. As you have discovered, all broadband routers are based on ethernet (both outbound to the modem/internet and inbound to the inside network). There are no routers that accept USB input from the modem (and only a few have a USB output, and that is a very specialized print server port solely for shared printing on the now-ubiquitous USB printers). So you have put together a kludge consisting of USB input to one computer which then uses Windows ICS to perform the routing functions followed by distribution through the switching portion of a broadband router while (you think) leaving the router portion of said broadband router to just twist idlely in the wind. You got away with it with the Linksys, 'til it broke. The new D-Link is less docile. It keeps messing with your carefully balanced house of cards. So what, where, and why? First, let me cut to the chase and tell you what I think you should do - which is not what you asked us to help you do. I think you should ditch that USB-based modem. It was a work-around developed expressly to avoid having to deal with the problem of getting clueless customers to install an ethernet port. It's still a work-around, which may seem to work in the most simplistic settings but really just introduces a whole new list of problems. Can you call your cable or DSL provider and see if you can get a suitable replacement modem that is ethernet based. Once you have an ethernet connection from the modem, all your problems go away. The ethernet modem will connect directly to the D-Link and the D-Link will do everything. Now, if that's not possible, here is what I think is happening inside your current setup. The modem is passing an IP address to your ICS system, which then translates it to 192.168.0.101. The ICS system then uses its internal DHCP server to establish more IP addresses for all the other clients using 192.168.0.102 through 192.168.0.whatever. Though you aren't intending for the D-Link to do anything except distribute (by wire through its 4-port switch and wirelessly as needed) the connection, in reality it is desparately trying to carry out its programmed role of DHCP services using some other range of addresses. And it is succeeding at that in bits and pieces. Sometimes it kicks one of its addresses up to a client, and sometimes your ICS system wins. With the hodgepodge of address ranges, sometimes communications from one system to another or out to the internet work, and sometimes not. If you were go around and very carefully plot the assigned IP address of every system and what was working and when, you'd probably see a pattern of incompatible addressing. So what to do? The easiest thing might be go into the setup page of the D-Link and 1) turn its DHCP server off, and 2) hard code its address as 192.168.0.200. You may need to do this starting with all systems turned off. Reboot the D-Link, and then boot one of the wired systems that is not the ICS system. This way you get a clean assignment from the D-Link with no confusion from the ICS system. Turning DHCP off in the router stops it from issuing conflicting addresses, and then hard coding it to 192.168.0.200 will put it in the same subnet as the ICS is using, and thus you will be able to access it's configuration page from any other system that has an issued address in the 192.168.0.xxx range. But plugging it at 200, you simply put it in a known place far above the dynamic range that your ICS system is likely to ever issue. Try some of this and let us know how it comes out. dw
10160	4	111535	1271891	1271719	warelphant	6/29/05 6:53 PM	1.12007118E12	Thank you!	Thanks within 2 hours after reading your reply I have all 5 of my comps running on my network and using the shared internet connection (both wireless laptops including the one running windows 2000). You have managed to help me complete a project 2 years in the running in one afternoon. Now if only we could get that ISP to get us a real modem. Thank you, Andy
10160	5	111535	1271930	1271891	Dick White	6/29/05 7:12 PM	1.12007232E12	you're welcome...	glad we could help. Now that it is all working, confirm that the security settings on the wireless links are up to snuff. I don't remember if you mentioned anything about that (as the problem was deeper than that), but WiFi security settings are a sore point with me. My day is not complete unless I've harrassed somebody about making sure they are tight. dw
