11577	0	348291	3072939	NR	thedatadoctor	7/2/09 10:48 PM	1.24657488E12	Help: Sniffing packets between a router and a cable modem.	Note: This is an educational exercise but it's still important to me. I am trying to learn something about networking by examining my home network and it's not going well. If anyone can help me get past my immediate problem, I will be very grateful. I have the following configuration: computer | hub_1 &lt;--- Point_A | wireless router | hub_2 &lt;--- Point_B | cable_modem | the_world wireless router = Netgear MR814 wireless router cable modem = Motorola SURFboard cable modem hubs = BlackBox 8 port hubs (i.e. real hubs, not switches). Please note that everything works correctly. The problem is my understanding of how it works. When I put a sniffer (a packet grabber) at &quot;Point_A&quot;, I can see all the packets in both directions. I see pings, ARPs, DNS requests and TCP and UDP traffic. Everything looks great. When I put the sniffer at &quot;Point_B&quot;, I see thousands of ARP broadcast requests and an occasional DHCP broadcast. What I don't see is any other traffic. No IP packets at all. I successfully went to several web sites and still no packets were captured from those sites. Why not? There are no filters on the sniffer. The same setting that works fine at Point_A is the one used at Point_B. The sniffer does not show any errors, like runts, CRCs, collisions, fragments, etc. So the question is, why am I not able to see all the packets at Point_B? (To anticipate a question, I do know the difference in a &quot;hub&quot; and a &quot;switch&quot; and my hubs are really hubs (i.e. simple repeaters).) Second question: I know the MAC address of the SURFboard cable modem. That is not the address on the ARP packets. I thought the cable modem was my interface to the world and my router would be talking to it at the Ethernet level. That's clearly not the case. What's going on? Thanks for any guidance you can provide.
11577	1	348291	3078705	3072939	bkirby	7/10/09 11:13 PM	1.24726758E12	Sniffing	What are the IP's of the outside interface of the router and your &quot;point B&quot;? You'll need point B to be on the same public network as the outside router interface. Hope that helps...
11577	2	348291	3079429	3078705	thedatadoctor	7/11/09 7:05 PM	1.2473391E12	Problem Solved!	Thank you for the reply and suggestion. I know the router's WAN address because I can display the assigned address (DHCP). I know another address which is the default gateway provided which is probably the other end. However, I didn't think I needed to get an address on that network because I am only sniffing packets and not (I hope) transmitting anything. I should be able to grab packets passively without actually having a valid IP address. Good news. Problem solved. (And I'm embarrassed.) The problem was with the monitoring PC. It was running a firewall. Since I was seeing ARPs and DHCP traffic and not running any filters, I thought I was getting everything. The firewall (ZoneAlarm) was allowing the ARPs, etc through but blocking all the TCP and UDP packets. By lowering the security on the firewall, I was able to see everything. From this first attempt to look at the packets between the router and cable modem, I can see this educational exercise is going to significantly difficult. (At least for me. I spent days getting past a firewall problem!) I didn't recognize much of anything in the 200MB I've looked at so far. This education is going to be time comsuming.
11577	3	348291	3081602	3079429	bkirby	7/14/09 7:26 PM	1.24759956E12	Wonderful!	I'm glad you have the problem solved. Since you're running a Windows based OS, winpcap will allow sniffing without having an assigned IP. ZoneAlarn had/has a log parser too which was free to analyze the log output. This may help too.
