<s> HI I'm trying to find a solution to save the hard disk on a power fail. </s>
<s> I'm using an industrial PC 'PCISA-C800EVR-RS-R20' and back plane IP-6S-RS-R40 from iei which is installed in a industrial machine. </s>
<s> The power supply to the PC and the machine is through a common power supply unit to run the whole machine. </s>
<s> In case of power failure/shutdown the power dies really quick which causes the hard drive to corrupt. </s>
<s> I believe the FAT got effected and the PC requires a new installation from start i.e. </s>
<s> formating and installing XP. </s>
<s> What i'm thinking is to give a hardware signal (through a watch dog) to the processor to shutdown the PC/ harddrive in an orderly manner just before the whole thing shutdowns. </s>
<s> But i'm not sure how i'm gonna do it since i can't find information on an external hardware input into the board. </s>
<s> Plz if somebody can help me, i'm new to this and sorry if i wrote something improperly. </s>
<s> That using FAT in any version is death to such a project. </s>
<s> No matter what you do you should see failure after failure. </s>
<s> Even on a clean shutdown it can still fail. </s>
<s> I had to let a customer learn this over a full year before they gave up and changed to NTFS. </s>
<s> That's not damage proof but at least it's journaled and damage resistant. </s>
<s> Why not fix the basic issue first? </s>
<s> Bob </s>
<s> I'll check and change it to NTFS. </s>
<s> Run some tests and let you know. </s>
<s> Thanks for the help </s>
<s> with usb monitoring software to perform an orderly shutdown upon on power failure. </s>
<s> http://www.beam-tech.com/093001/prd_pgs/internal_ups.htm </s>
<s> HI The hard drive already has NTFS on it. </s>
<s> I beleive the problem is not the type of allocation table but the power which dies really quick and doesn't allow the HDD head to be in a safe location. </s>
<s> thanks man its a cool UPS. </s>
<s> I think the best solution will be an UPS but at the moment the idea is to find a hardware I/P signal to the board so it can tell the processor to shutdown before every thing fails. </s>
<s> This UPS is for a desktop PC. </s>
<s> The trouble is that I have an industrial pc which is quite compact. </s>
<s> The other way would be an internal card type UPS (on PCI slot). </s>
<s> Is there any thing like that? </s>
<s> But I only have your posts to go on. </s>
<s> If you tell me FAT, I believe you and will have to go with that. </s>
<s> Another issue was memory corruption. </s>
<s> We had a system corrupting drives and it turned out to be the RAM would get corrupt and that would be written to the drive. </s>
<s> Took a long time to nail that one. </s>
<s> Sorry it wasn't something simple. </s>
<s> As to your assumption about the head being in the wrong place and the quick power off, we see the power off without notice to not be a problem with NTFS since it's journaled. </s>
<s> We will lose the last record or such but that's to be expected. </s>
<s> So far with thousands of unceremonious AC cutoffs we have yet to lose the drive. </s>
<s> Did this every work? </s>
<s> One time the drive needed to be replaced. </s>
<s> Bob </s>
<s> You are right. </s>
<s> If it keeps on shutting the HDD like that it will sooner or later be dead. </s>
<s> The RAM at the moment is Samsung PC133U 256MB sync 133MHZ. </s>
<s> I'm not sure if its smaller size would be causing the corruption. </s>
<s> What should I do? </s>
<s> You didn't answer my question. </s>
<s> But your comment &quot;I'm not sure if its smaller size would be causing the corruption.&quot; peaks my curiosity. </s>
<s> We run on embedded machines running Windows 2000 on 64MB so that can't be the cause if you were thinking of low ram. </s>
<s> However XP did corrupt drives without some service packs. </s>
<s> I may skip over such but this is the second time you wrote &quot;XP&quot; and not &quot;XP SP2&quot; or such. </s>
<s> For now you could try turning off XP's write caching. </s>
<s> This helps in some cases -&gt; http://www.accucadd.com/TechNotes/Cache/WriteBehindCache.htm That article covers almost all versions of Windows. </s>
<s> Bob </s>
